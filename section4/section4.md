# 第4回 制御構文

## 1. はじめに

今回は，制御構文を見ていきます．
制御構文を使うことで，条件によって処理を分岐させたり，繰り返し処理を行ったりすることができるようになります．
これのおかげで，より複雑な処理を行うことができるようになります．

今回見ていく制御構文は，

- if文
    - 条件分岐
- while文
  - ある条件が成り立つ間，繰り返す
- for文
  - コレクター（リストなど）の各要素に対して同じ処理を繰り返す
- (try-except文)

です．
順番に見ていきましょう．



## 2. if 文 - 条件分岐

if文は，条件によって処理を分岐させるための制御構文です．
if文の基本的な構文は以下の通りです．

```python
if <条件式>:
    <条件式がTrueのときの処理>
else:
    <条件式がFalseのときの処理>
```

例えば，このように使います．

```python
# credit.py

score = 80

if score >= 60:
    print("合格！！")
else:
    print("落単！！")

```
実行結果
```
$ python3 credit.py
単位取得
```

`score` を変えて，実行結果が変わることを確認してみましょう．

このコードでは，点数`score`が60点以上かどうかを判定しています．
60点以上の場合は，`print("合格！！")`が実行され，60点未満の場合は，`print("落単！！")`が実行されます．

フローチャートで表すとこうなります．

![if文のフローチャート](./figure/if.jpg)

このコードを少し詳しく見てみましょう．
まず，条件部分はこのようになっています．

```python
if score >= 60:
```

`if` キーワードで始まり，条件式が続き，行の最後にコロン`:`がついています．
`score >= 60` が条件式です．この式は，`score`が60以上のときに`True`，60未満のときに`False`を返します．
`>=` などは比較演算子と呼ばれ，まとめると以下のようになります．

比較演算子（復習）
| 演算子 | 意味 |
|:---:|:---:|
| == | 等しい |
| != | 等しくない |
| < | より小さい |
| <= | 以下 |
| > | より大きい |
| >= | 以上 |


条件式が`True`のときに実行したい（1行以上の）処理を，`if`の次の行からインデントして書きます．
インデントとは字下げとも呼ばれ，Tabキーを押すことでインデントを入れることができます．
（細かい話をするとタブ文字だったりスペースだったりしますが，今はあまり気にしなくて大丈夫です．）　
今回の場合は，`print("合格！！")`が実行されます．

条件式が`False`のときに実行したい（1行以上の）処理を，`else`の次の行からインデントして書きます．

このように，条件によって処理を分岐させることができます．


次に，3つ以上に分岐する場合を見てみましょう．
この場合，
- もし条件1が`True`なら処理1を実行
- 条件1が`False`の場合，
  - 条件2が`True`なら処理2を実行
  - 条件2が`False`なら処理3を実行

のように分かれます．

このような場合は，`elif`を使います．
例えば，このように書くことができます．

```python
# credit2.py

score = 80

if score >= 80:
    print("優秀！！")
elif score >= 60:
    print("合格！！")
else:
    print("落単！！")
```

実行結果
```
$ python3 credit2.py
優秀！！
```

`elif`は，`else`と`if`をつなげたものです．他のプログラミング言語では`else if`と書くことが多いので注意してください．
初めの`if`の条件式が`False`の場合に，次の`elif`の条件式を判定します．
もし初めの`if`の条件式が`True`の場合は，`elif`の条件式は判定されません．

フローチャートに書くと，以下のようになります．

![elif文のフローチャート](./figure/elif.png)


`elif`は複数書くことができるので，4つ以上に分岐させることもできます．


また，if文の中にif文を入れることもできます．
これをネスト（入れ子）と呼び以下のような感じで使います．

```python
# biggest.py

a = 3
b = 5
c = 7

if a > b:
    if a > c:
        print("a is the biggest")
    else:
        print("c is the biggest")
else:
    if b > c:
        print("b is the biggest")
    else:
        print("c is the biggest")

```

実行結果
```
c is the biggest
```

このコードは，3つの変数 `a`，`b`，`c` の値を比較し，最大の値を表示するためのものです．

1. まず，条件式 `a > b` が評価されます．

2. もし最初の条件式 `a > b` が `True` だった場合
   1. すぐ次のインデントされたブロックの中のコードが実行されます．
   2. このブロック内の条件式 `a > c` が評価されます．

   3. もし最初の条件式が `True` かつ2番目の条件式 `a > c` が `True` だった場合，"a is the biggest" というテキストが表示されます．これは，変数 `a` が最大である場合に実行されます．

   4. もし最初の条件式が `True` だったが，2番目の条件式が `False` だった場合，"c is the biggest" というテキストが表示されます．これは，変数 `a` が最大である場合に実行されます．

3. もし最初の条件式が `False` だった場合，
   1. `else:`以降のブロックの中のコードが実行されます．
   2. このブロック内の条件式 `b > c` が評価されます．

   3. もし最初の条件式が `False` かつ3番目の条件式 `b > c` が `True` だった場合，"b is the biggest" というテキストが表示されます．これは，変数 `b` が最大である場合に実行されます．

   4. もし最初の条件式が `False` かつ3番目の条件式が `False` だった場合，"c is the biggest" というテキストが表示されます．これは，変数 `c` が最大である場合に実行されます．




### 練習問題
解答例はGitHubの [section4/sample/ex/](./sample/ex/ex2.py) 以下にあります．

----
変数`number`を定義し，その値が偶数か奇数かを判定して出力するプログラムを書いてください．

```python
number = 57

# ここにコードを書く

```
----

## 3. while 文 - 繰り返し

while文はある条件が成り立つ間，処理を繰り返すための制御構文です．
while文の基本的な構文は以下の通りです．

```python
while <条件式>:
    <条件式がTrueの間繰り返す処理>
```

例えば，このように使います．

```python
# while_test.py
i = 0

while (i < 10):
    print(i)
    i = i + 1

print('繰り返しが終わりました')

```


出力は以下のようになります．
```
0
1
2
3
4
5
6
7
8
9
繰り返しが終わりました
```